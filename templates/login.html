{% extends "base.html" %}

{% block title %}Login - Administração UEMASUL{% endblock %}

{% block content %}
<section class="login-section">
  <div class="container">
    <div class="row justify-content-center min-vh-100 align-items-center">
      <div class="col-lg-5 col-md-7 col-sm-8">
        <div class="login-card">
          <div class="login-header text-center mb-4">
            <div class="login-icon mb-3">
              <i class="fas fa-shield-alt fa-3x text-primary"></i>
            </div>
            <h2 class="mb-2">Área Administrativa</h2>
            <p class="text-muted mb-0">Sistema de Qualificação de Jovens - UEMASUL</p>
          </div>
          
          <div class="login-body">
            <!-- Mensagens Flash -->
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {% for category, message in messages %}
                  <div class="alert alert-{{ 'danger' if category == 'error' else 'success' if category == 'success' else 'warning' if category == 'warning' else 'info' }} alert-dismissible fade show" role="alert">
                    <i class="fas fa-{{ 'exclamation-triangle' if category == 'error' else 'check-circle' if category == 'success' else 'exclamation-triangle' if category == 'warning' else 'info-circle' }} me-2"></i>
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  </div>
                {% endfor %}
              {% endif %}
            {% endwith %}
            
            <form method="POST" novalidate>
              <div class="mb-3">
                <div class="form-floating">
                  <input type="text" class="form-control" id="username" name="username" placeholder="Usuário" required>
                  <label for="username">
                    <i class="fas fa-user me-2"></i>Usuário
                  </label>
                </div>
              </div>
              
              <div class="mb-4">
                <div class="form-floating">
                  <input type="password" class="form-control" id="password" name="password" placeholder="Senha" required>
                  <label for="password">
                    <i class="fas fa-lock me-2"></i>Senha
                  </label>
                </div>
              </div>
              
              <div class="d-grid mb-3">
                <button type="submit" class="btn btn-primary btn-lg">
                  <i class="fas fa-sign-in-alt me-2"></i>Entrar
                </button>
              </div>
            </form>
            
            <div class="login-info">
              <div class="alert alert-info border-0">
                <i class="fas fa-info-circle me-2"></i>
                <strong>Acesso Restrito:</strong> Esta área é destinada apenas a administradores autorizados.
              </div>
            </div>
          </div>
          
          <div class="login-footer text-center mt-4">
            <a href="{{ url_for('index') }}" class="btn btn-outline-secondary">
              <i class="fas fa-arrow-left me-2"></i>Voltar ao Site
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block scripts %}
<style>
.login-section {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  min-height: 100vh;
  padding: 2rem 0;
}

.login-card {
  background: white;
  border-radius: 20px;
  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
  padding: 2.5rem;
  margin: 2rem 0;
}

.login-icon {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  width: 80px;
  height: 80px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto;
}

.login-icon i {
  color: white !important;
}

.login-header h2 {
  color: #2c3e50;
  font-weight: 700;
}

.form-floating > label {
  padding: 1rem 1rem;
  color: #6c757d;
}

.form-control {
  border: 2px solid #e9ecef;
  border-radius: 10px;
  padding: 1rem;
  font-size: 1rem;
  transition: all 0.3s ease;
}

.form-control:focus {
  border-color: #667eea;
  box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);
}

.btn-primary {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border: none;
  border-radius: 10px;
  padding: 1rem;
  font-weight: 600;
  font-size: 1.1rem;
  transition: all 0.3s ease;
}

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
}

.login-info .alert {
  background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
  color: #155724;
  border-radius: 10px;
}

.btn-outline-secondary {
  border: 2px solid #6c757d;
  border-radius: 10px;
  padding: 0.75rem 1.5rem;
  font-weight: 500;
  transition: all 0.3s ease;
}

.btn-outline-secondary:hover {
  background: #6c757d;
  color: white;
  transform: translateY(-2px);
}

/* Animação de entrada */
.login-card {
  animation: slideInUp 0.6s ease-out;
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Responsividade */
@media (max-width: 768px) {
  .login-card {
    margin: 1rem;
    padding: 2rem;
  }
  
  .login-section {
    padding: 1rem 0;
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Foco automático no campo usuário
  const usernameField = document.querySelector('input[name="username"]');
  if (usernameField) {
    usernameField.focus();
  }
  
  // Validação simples
  const form = document.querySelector('form');
  form.addEventListener('submit', function(e) {
    const username = document.querySelector('input[name="username"]').value.trim();
    const password = document.querySelector('input[name="password"]').value.trim();
    
    if (!username || !password) {
      e.preventDefault();
      alert('Por favor, preencha todos os campos.');
      return false;
    }
  });
  
  console.log('✅ Login page loaded');
});
</script>
{% endblock %} 